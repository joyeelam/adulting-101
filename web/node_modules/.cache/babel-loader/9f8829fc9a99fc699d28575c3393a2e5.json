{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ariev\\\\react-flask-app\\\\web\\\\src\\\\containers\\\\quiz\\\\Final.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Player } from '@lottiefiles/react-lottie-player';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FinalScreen = ({\n  category\n}) => {\n  _s();\n\n  const score = useSelector(state => state.score);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const replay = () => {\n    dispatch({\n      type: 'SET_INDEX',\n      index: 0\n    });\n    dispatch({\n      type: 'SET_SCORE',\n      score: 0\n    });\n  };\n\n  const settings = () => {\n    dispatch({\n      type: 'SET_QUESTIONS',\n      questions: []\n    });\n    dispatch({\n      type: 'SET_SCORE',\n      score: 0\n    });\n    dispatch({\n      type: 'SET_INDEX',\n      index: 0\n    });\n  };\n\n  const handleSave = () => {\n    const user_id = localStorage.getItem('id');\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/trivias/',\n      data: {\n        category: category,\n        score: score,\n        user_id: user_id\n      }\n    }).then(resp => {\n      console.log(resp);\n      window.location.reload();\n      history.push('/trivia');\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  let animation;\n\n  if (score === 5) {\n    animation = /*#__PURE__*/_jsxDEV(Player, {\n      autoplay: true,\n      loop: true,\n      src: \"https://assets1.lottiefiles.com/packages/lf20_6LimOm.json\",\n      style: {\n        height: '150px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this);\n  } else {\n    animation = /*#__PURE__*/_jsxDEV(Player, {\n      autoplay: true,\n      loop: true,\n      src: \"https://assets5.lottiefiles.com/packages/lf20_Zz37yH.json\",\n      style: {\n        height: '150px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-final\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: animation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"final-title\",\n      children: [\"Final Score: \", score]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: replay,\n      children: \"Try again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      children: \"Save score\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: settings,\n      children: \"Back to settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FinalScreen, \"ziUqpJCIwHufxJhNBleJ39A1OZ8=\", false, function () {\n  return [useSelector, useDispatch, useHistory];\n});\n\n_c = FinalScreen;\nexport default FinalScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"FinalScreen\");","map":{"version":3,"sources":["C:/Users/ariev/react-flask-app/web/src/containers/quiz/Final.js"],"names":["axios","useHistory","useSelector","useDispatch","Player","FinalScreen","category","score","state","dispatch","history","replay","type","index","settings","questions","handleSave","user_id","localStorage","getItem","method","url","data","then","resp","console","log","window","location","reload","push","catch","error","animation","height"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {Player} from '@lottiefiles/react-lottie-player'\r\n\r\nconst FinalScreen = ({category}) => {\r\n\r\n  const score = useSelector(state => state.score)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const replay = () => {\r\n    dispatch({\r\n      type: 'SET_INDEX',\r\n      index: 0\r\n    })\r\n    dispatch({\r\n      type: 'SET_SCORE',\r\n      score: 0\r\n    })\r\n  }\r\n\r\n  const settings = () => {\r\n    dispatch({\r\n      type: 'SET_QUESTIONS',\r\n      questions: []\r\n    })\r\n    dispatch({\r\n      type: 'SET_SCORE',\r\n      score: 0\r\n    })\r\n    dispatch({\r\n      type: 'SET_INDEX',\r\n      index: 0\r\n    })\r\n  }\r\n\r\n  const handleSave = () => {\r\n\r\n    const user_id = localStorage.getItem('id')\r\n\r\n    axios({\r\n      method: 'POST',\r\n      url: 'http://localhost:5000/trivias/',\r\n      data: {\r\n        category: category,\r\n        score: score,\r\n        user_id: user_id\r\n      }\r\n    })\r\n    .then(resp => {\r\n      console.log(resp)\r\n      window.location.reload()\r\n      history.push('/trivia')\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  let animation\r\n\r\n  if (score === 5) {\r\n    animation =\r\n    <Player autoplay loop src='https://assets1.lottiefiles.com/packages/lf20_6LimOm.json' style ={{height:'150px'}}></Player>\r\n  } else {\r\n    animation = <Player autoplay loop src='https://assets5.lottiefiles.com/packages/lf20_Zz37yH.json' style ={{height:'150px'}}></Player>\r\n  }\r\n\r\n  return (\r\n    <div className='quiz-final'>\r\n      <div>\r\n        {animation}\r\n      </div>\r\n      <br/>\r\n      <h4 className='final-title'>Final Score: {score}</h4>\r\n      <button onClick={replay}>Try again</button>\r\n      <button onClick={handleSave}>Save score</button>\r\n      <button onClick={settings}>Back to settings</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FinalScreen\r\n"]},"metadata":{},"sourceType":"module"}